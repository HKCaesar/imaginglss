

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to ImagingLSS’s documentation! &mdash; ImagingLSS 0.9 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ImagingLSS 0.9 documentation" href="#"/>
        <link rel="next" title="model package" href="model.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="#" class="fa fa-home"> ImagingLSS</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model.html">model package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="model.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.brick">model.brick module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.brickindex">model.brickindex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.catalogue">model.catalogue module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.datarelease">model.datarelease module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.imagerepo">model.imagerepo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.sfdmap">model.sfdmap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model">Module contents</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="#">ImagingLSS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="#">Docs</a> &raquo;</li>
      
    <li>Welcome to ImagingLSS&#8217;s documentation!</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/index.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="welcome-to-imaginglss-s-documentation">
<h1>Welcome to ImagingLSS&#8217;s documentation!<a class="headerlink" href="#welcome-to-imaginglss-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<p>This is a data model of the DECAM imaging survey data
and potentially also for other desi targeting imaging survey,
for Large scale structure analysis.</p>
<p>The modelled data is a product from the Tractor, the source identification
software used in by DESI.</p>
<p>We have support on the Early Data Release (EDR) data, and DR1 support is on the way.</p>
<p>See</p>
<p><a class="reference external" href="https://desi.lbl.gov/trac/wiki/DecamLegacy/EDRfiles">https://desi.lbl.gov/trac/wiki/DecamLegacy/EDRfiles</a></p>
<p>and</p>
<p><a class="reference external" href="https://desi.lbl.gov/trac/wiki/DecamLegacy/DR1">https://desi.lbl.gov/trac/wiki/DecamLegacy/DR1</a></p>
<p>To use this imaing data model on edison:</p>
<ol class="arabic simple">
<li>set environments</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">DECALS_IMAGING</span><span class="o">=</span>/global/project/projectdirs/cosmo/work/decam/release/edr/
<span class="nb">export </span><span class="nv">DECALS_CACHE</span><span class="o">=</span><span class="nv">$GSCRATCH</span>/desicache
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>install astropy or fitsio (prefered)</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre>  easy_install --user astropy

Alternatively,
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>easy_install --user fitsio
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>try if usecase.py runs.</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre>python usecase.py
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>start hacking with</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre>from model.datarelease import DataRelease
<span class="nv">dr</span> <span class="o">=</span> DataRelease<span class="o">()</span>
</pre></div>
</div>
<p>Due to internal caching of the catalogue, the running time is faster after first time.</p>
<p>Documentation of the modelling can be seen in model/README.md</p>
<p>We are working on a more comprehensive documentation generated from
source code doc strings. The current version of the document is at</p>
<p><a class="reference external" href="http://desihub.github.io/imaginglss">http://desihub.github.io/imaginglss</a></p>
<p>Examples:</p>
<blockquote>
<div><ul class="simple">
<li>edison_example.sh</li>
<li>mpirandom.py</li>
<li>usecase.py</li>
<li>select_elgs.py</li>
<li>footprint_mangle.py</li>
<li>build_sfdmap.py</li>
</ul>
</div></blockquote>
<div class="section" id="description-of-model-used-to-process-decals-imaging-data">
<h2>Description of model used to process DECALS imaging data.<a class="headerlink" href="#description-of-model-used-to-process-decals-imaging-data" title="Permalink to this headline">¶</a></h2>
<p>The DECALS imaging data are processed in &#8220;bricks&#8221; on the sky,
each brick being a small, contiguous regions of sky (roughly
0.5x0.5 degrees).  The data, including information on depths,
extinction, etc. are stored in pixelized images within the
FITS files.  There are also catalogs of objects, produced by
Tractor, which are associated with each brick.</p>
<p>The main way to access the DECALS imaging data is via DataRelease
objects defined in &#8220;datarelease.py&#8221;. It holds the imaging catalogue
(Catalogue), a BrickIndex for the sky decomposition, and routines
to query within the full survey area image values at any give sky
coordinate.</p>
<p>Our data model has the management of the individual FITS files
handled by &#8220;imagerepo.py&#8221; and the imagerepo class.</p>
<p>The Brick class, defined in &#8220;brick.py&#8221;, holds metadata for each
brick, routines for converting from sky coordinates to image
pixels within each brick, and routines for querying the images
handled by imagerepo. Brick objects are created by BrickIndex class
(see below)</p>
<p>The BrickIndex class, defined in &#8220;brick_index.py&#8221;, holds the metadata
of of the brick decomposition scheme, rountines for converting from
sky coordinates to bricks, and acts as a factory that creates Brick
objects.</p>
<p>Catalog information is handled by &#8220;catalog.py&#8221;, which stores the
object catalogs associated with a data release.
The catalogs are contained in FITS files, but this class caches the
information for speed and only columns that are accessed are loaded
into memory.</p>
<p>The images contain only coordinate transformations in the WCS
&#8220;tangent&#8221; format.  In order to speed up these transformations, and
to make the code more stand-alone, we have implemented the pixel
to sky and sky to pixel routines in &#8220;wcs_tangent.py&#8221; as helper
routines.</p>
</div>
</div>
<div class="section" id="modules">
<h1>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="model">
<h1>model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="model.html">model package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="model.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model.utils.html">model.utils package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils.columnstore">model.utils.columnstore module</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils.euler">model.utils.euler module</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils.fits">model.utils.fits module</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils.fsarray">model.utils.fsarray module</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils.kdtree">model.utils.kdtree module</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils.wcs_simplezea">model.utils.wcs_simplezea module</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils.wcs_tangent">model.utils.wcs_tangent module</a></li>
<li class="toctree-l4"><a class="reference internal" href="model.utils.html#module-model.utils">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.brick">model.brick module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.brickindex">model.brickindex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.catalogue">model.catalogue module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.datarelease">model.datarelease module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.imagerepo">model.imagerepo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model.sfdmap">model.sfdmap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html#module-model">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span>Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="model.html" class="btn btn-neutral float-right" title="model package">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Yu Feng, Martin White.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>